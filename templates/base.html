<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8"/>
    <title>{% block title %}LabSys{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='css/custom.css') }}">
</head>
<body>

<div class="container">
    {% set current_user = request.state.user %}
    {% set endpoint = request.scope['endpoint'].__name__ %}

    <nav class="top-nav">
        <div class="nav-links">
            <a class="nav-link {% if 'dashboard' in endpoint %}is-active{% endif %}"
               href="/" title="Dashboard">
                <span class="material-symbols-outlined">dashboard</span>
            </a>

            <a class="nav-link {% if 'equipment' in endpoint %}is-active{% endif %}"
               href="/equipment_ui" title="Katalog">
                <span class="material-symbols-outlined">science</span>
            </a>

            <a class="nav-link {% if 'reservations' in endpoint %}is-active{% endif %}"
               href="/reservations_ui" title="Moje rezervace">
                <span class="material-symbols-outlined">calendar_month</span>
            </a>
        </div>

        <div class="nav-footer">
            {% if current_user %}
                <div class="user-info" style="writing-mode: vertical-rl; text-orientation: mixed; transform: rotate(180deg); margin-bottom: 20px; font-size: 0.8rem; color: #aaa;">
                    {{ current_user.username }}
                </div>
                <form method="post" action="/logout">
                    <button class="nav-btn" type="submit" title="Odhlásit">
                        <span class="material-symbols-outlined">logout</span>
                    </button>
                </form>
            {% else %}
                <a class="nav-link" href="/login" title="Přihlásit">
                    <span class="material-symbols-outlined">login</span>
                </a>
            {% endif %}
        </div>
    </nav>

    <main class="page">
        {% block content %}{% endblock %}
    </main>
</div>

{% block scripts %}{% endblock %}
</body>
</html>